
---project---
https://github.com/torvalds/subsurface-for-dirk
---commit---
857e153070aee4383a82342a41caf0c5a0f8d700
---message---
Start archiving the stupid XML files

(and add a reminder of how they came to be)

Gaah.  XML is *stupid*.  It's not easy to parse for humans or for
computers, and some of these XML files are just disgusting.  But maybe
they can be turned into something usable with libxml.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
165
----
0.xml|ADD
----
1.xml|ADD
----
10.xml|ADD
----
100.xml|ADD
----
101.xml|ADD
----
102.xml|ADD
----
103.xml|ADD
----
104.xml|ADD
----
105.xml|ADD
----
106.xml|ADD
----
107.xml|ADD
----
108.xml|ADD
----
109.xml|ADD
----
11.xml|ADD
----
110.xml|ADD
----
111.xml|ADD
----
112.xml|ADD
----
113.xml|ADD
----
114.xml|ADD
----
115.xml|ADD
----
116.xml|ADD
----
117.xml|ADD
----
118.xml|ADD
----
119.xml|ADD
----
12.xml|ADD
----
120.xml|ADD
----
121.xml|ADD
----
122.xml|ADD
----
123.xml|ADD
----
124.xml|ADD
----
125.xml|ADD
----
126.xml|ADD
----
127.xml|ADD
----
128.xml|ADD
----
129.xml|ADD
----
13.xml|ADD
----
130.xml|ADD
----
131.xml|ADD
----
132.xml|ADD
----
133.xml|ADD
----
134.xml|ADD
----
135.xml|ADD
----
136.xml|ADD
----
137.xml|ADD
----
138.xml|ADD
----
139.xml|ADD
----
14.xml|ADD
----
140.xml|ADD
----
141.xml|ADD
----
142.xml|ADD
----
143.xml|ADD
----
144.xml|ADD
----
145.xml|ADD
----
146.xml|ADD
----
147.xml|ADD
----
148.xml|ADD
----
149.xml|ADD
----
15.xml|ADD
----
150.xml|ADD
----
151.xml|ADD
----
152.xml|ADD
----
153.xml|ADD
----
154.xml|ADD
----
155.xml|ADD
----
156.xml|ADD
----
157.xml|ADD
----
158.xml|ADD
----
159.xml|ADD
----
16.xml|ADD
----
17.xml|ADD
----
18.xml|ADD
----
19.xml|ADD
----
2.xml|ADD
----
20.xml|ADD
----
2011-03-22.xml|ADD
----
2011-07-16.xml|ADD
----
2011-08-06.xml|ADD
----
2011-08-28.xml|ADD
----
21.xml|ADD
----
22.xml|ADD
----
23.xml|ADD
----
24.xml|ADD
----
25.xml|ADD
----
26.xml|ADD
----
27.xml|ADD
----
28.xml|ADD
----
29.xml|ADD
----
3.xml|ADD
----
30.xml|ADD
----
31.xml|ADD
----
32.xml|ADD
----
33.xml|ADD
----
34.xml|ADD
----
35.xml|ADD
----
36.xml|ADD
----
37.xml|ADD
----
38.xml|ADD
----
39.xml|ADD
----
4.xml|ADD
----
40.xml|ADD
----
41.xml|ADD
----
42.xml|ADD
----
43.xml|ADD
----
44.xml|ADD
----
45.xml|ADD
----
46.xml|ADD
----
47.xml|ADD
----
48.xml|ADD
----
49.xml|ADD
----
5.xml|ADD
----
50.xml|ADD
----
51.xml|ADD
----
52.xml|ADD
----
53.xml|ADD
----
54.xml|ADD
----
55.xml|ADD
----
56.xml|ADD
----
57.xml|ADD
----
58.xml|ADD
----
59.xml|ADD
----
6.xml|ADD
----
60.xml|ADD
----
61.xml|ADD
----
62.xml|ADD
----
63.xml|ADD
----
64.xml|ADD
----
65.xml|ADD
----
66.xml|ADD
----
67.xml|ADD
----
68.xml|ADD
----
69.xml|ADD
----
7.xml|ADD
----
70.xml|ADD
----
71.xml|ADD
----
72.xml|ADD
----
73.xml|ADD
----
74.xml|ADD
----
75.xml|ADD
----
76.xml|ADD
----
77.xml|ADD
----
78.xml|ADD
----
79.xml|ADD
----
8.xml|ADD
----
80.xml|ADD
----
81.xml|ADD
----
82.xml|ADD
----
83.xml|ADD
----
84.xml|ADD
----
85.xml|ADD
----
86.xml|ADD
----
87.xml|ADD
----
88.xml|ADD
----
89.xml|ADD
----
9.xml|ADD
----
90.xml|ADD
----
91.xml|ADD
----
92.xml|ADD
----
93.xml|ADD
----
94.xml|ADD
----
95.xml|ADD
----
96.xml|ADD
----
97.xml|ADD
----
98.xml|ADD
----
99.xml|ADD
----
scripts|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
ed45f7cb140a508b6f661f75b2c4803686b0e379
---message---
Add crazy (bad) xml parser thing

It only works for the Suunto "one xml file per dive" format, not for the
libdivecomputer one that just puts many dives in one file.

Maybe there is some way for libxml2 to handle concatenated xml files
(start again on errors), but I don't know it yet.

I need to get stinking drunk before I look at more xml mess.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
Makefile|ADD
----
parse.c|ADD
---methods---
parse
show
show_one_node
main
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
fb214b2b3918120f0cd5aebe7c48a7482d1c1276
---message---
Make the multi-dive files valid XML

They had multiple "root" entries (all called 'dive'), which makes baby
Jesus cry.

So just enclose them all in one root entry (called 'dives') that
magically turns it all into parseable xml.

Yeah, that really helps make the world a better place.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
2011-03-22.xml|MODIFY
----
2011-07-16.xml|MODIFY
----
2011-08-06.xml|MODIFY
----
2011-08-28.xml|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
77ce61644b414fc4c6596321764aa586b923178a
---message---
Turn the XML into something almost parseable.

Of course, now the problem is that the different XML files have
different node names, but at least we've turned it into a half-way sane
format, and have a nice callback place per value.

Soon we could use that to actually fill in useful information.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
Makefile|MODIFY
----
parse.c|MODIFY
---methods---
show
nodename
parse
show
show_one_node
show_one_node
---dmm---
N/A
----
N/A
----
0.3076923076923077
----

---commit---
a71e8dd777a27b5e9c56e1834f964b385b1157d4
---message---
Move the parser closer to being usable

Ok, so we have the dive split and the sample splits, so now we could
really just start filling in data.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
sample_start
show_one_node
entry
parse
show
dive_start
sample_end
visit_one_node
dive_end
traverse
---dmm---
0.375
----
1.0
----
0.875
----

---commit---
ee35716ec72e258897f69e5a22400bc52c51716d
---message---
Fill in dummy parse target code

.. but don't actually parse anything yet.  But hey - now it tells you
how many samples it (hasn't) parsed.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
dive_end
sample_end
try_to_fill_dive
dive_size
sample_start
entry
dive_start
record_dive
try_to_fill_sample
---dmm---
0.6666666666666666
----
1.0
----
0.7291666666666666
----

---commit---
414565e000d24fe8b483294fbec64539e336bb4e
---message---
Start showing unparsed entries

(ie all of them)

This also shows the type of entry, which makes it clear that I've
screwed up the sample matching.  Oh well.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
try_to_fill_dive
last_part
nonmatch
try_to_fill_sample
---dmm---
1.0
----
1.0
----
0.3333333333333333
----

---commit---
4b3bd4b739bd7a89c5dd972fff726556b219aeb2
---message---
Fix stupid mis-initialization of current sample

.. nice compiler warning hidden by the crazy gcc pointer sign warnings
that nobody wants to see (yes, we really do want to do 'strlen()' even
on unsigned strings, don't complain, crazy bitch compiler).

So this also makes our CFLAGS set -Wno-pointer-sign.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
Makefile|MODIFY
----
parse.c|MODIFY
---methods---
sample_start
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
e1a939ac626dda5cf97122cb650c553b2d1fcb2a
---message---
Move the "text" nodename hackery out of 'nodename()'

It's better to do it in the caller.  Debug users may well want the full
node name.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
nodename
visit_one_node
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
edbf68d8055b343d1b608b0d934e7876602b7ff7
---message---
Start parsing dive dates

.. only the suunto XML format, though.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
match
try_to_fill_dive
try_to_fill_dive
try_to_fill_sample
entry
entry
divetime
record_dive
dive_start
utc_mktime
try_to_fill_sample
nonmatch
nonmatch
divedate
---dmm---
0.4666666666666667
----
0.68
----
0.7733333333333333
----

---commit---
8a670bfb5cf11a0b5bb02ab447fff31f589bb90a
---message---
Start parsing numeric fields

Depth, pressure, and sample times.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
sample_start
depth
try_to_fill_sample
integer_or_float
pressure
sampletime
temperature
---dmm---
0.07142857142857142
----
0.6071428571428571
----
0.8928571428571429
----

---commit---
83e0bf8b520c54a9ef0b90ccf676022ae27e7737
---message---
Add 'verbose' flag

Now that we actually parse some of the dives, don't spam stdout with the
list of stuff we can't parse by default.

Add a 'verbose' flag, which enables that output when set.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
main
parse_argument
nonmatch
---dmm---
1.0
----
1.0
----
0.9523809523809523
----

---commit---
f46e9f571e92156cd764d6711cac671c053260a1
---message---
Start actually reporting the numbers we parsed

.. which also showed that the sampletime thing had gotten a bit too much
copy-paste from the temperature parsing ;)

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
to_PSI
sampletime
record_dive
to_C
to_feet
---dmm---
0.09090909090909091
----
1.0
----
1.0
----

---commit---
716a680920cdd27129c36ea284e44920d0f2d79d
---message---
Fix up temperature conversion

Oops. No, the water temperature wasn't really 500 degC.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
to_C
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
3bd1abdfc781f36d2f87b39134dd4620645fe8ac
---message---
Add 'datetime' parsing for libdivecomputer xml files

I think this gets me dates on all my dives.  So now I could start
sorting them and removing duplicates.

But before I try to remove dups, I guess I should compare the
libdivecomputer ones against the suunto ones.  Because I bet they have
various "interesting" issues like using Bar vs Atm etc.

"But XML is portable". Crazy people.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
utc_mktime
divedatetime
try_to_fill_dive
---dmm---
0.10526315789473684
----
1.0
----
0.8947368421052632
----

---commit---
048a5a2b32c0638708ca4779007f9e33226d54f4
---message---
Don't report dives as they are parsed: sort them at the end and report them then

This makes it much easier to see the duplicates, but more importantly,
we do need to actually save the dives off to do any real work with them.

Also, require a verbosity level of 1 (-v) to show all the samples.
While (-vv) shows unparsed entries.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
main
report_dives
show_dive
sortfn
record_dive
nonmatch
---dmm---
0.9655172413793104
----
1.0
----
1.0
----

---commit---
fc38f4f0c4dba1b7339edbe7ef01b53cbcc78f15
---message---
Add some more parsing functions

.. and fix the 'duration' parsing: it can be either in seconds, or in
mm:ss format.  Floating point doesn't make any sense.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
ignore
duration
sampletime
try_to_fill_dive
---dmm---
N/A
----
0.025
----
0.3
----

---commit---
17fcb3d32d6353bfcbf83a98bd8255727b055259
---message---
Clean up dive reporting

Show date, max depth, and time by default.  The stuff that matters and
should always exist.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
nodename
show_dive
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f3a338a9af53f31f9a72de021950cbe725a6782f
---message---
Split up dive data structure declarations into 'dive.h'

The dive parser should eventually be just a part of the program, not the
whole thing. So start preparing for that.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
3
----
Makefile|MODIFY
----
dive.h|ADD
---methods---
to_feet
to_PSI
to_C
----
parse.c|MODIFY
---methods---
to_PSI
to_C
parse_xml_file
parse
to_feet
main
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
5c4cc39c56470b0a01274e69be703f0d4fc3080b
---message---
Start moving some of the non-parsing stuff out of 'parse.c'

Create a 'main.c' with the main routine and argument "parsing" etc.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
Makefile|MODIFY
----
dive.h|MODIFY
----
main.c|ADD
---methods---
main
report_dives
show_dive
sortfn
parse_argument
----
parse.c|MODIFY
---methods---
parse_xml_init
report_dives
record_dive
parse_argument
main
show_dive
sortfn
parse_xml_file
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
19e670a23b60c044a8492cc43d3db8dc64685042
---message---
Add .gitignore file for current state

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
.gitignore|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
0ca546b31e5527713f11676bc965aa1ed8dac619
---message---
Create a gtk window

It doesn't *do* anything, but some day it will.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
Makefile|MODIFY
----
main.c|MODIFY
---methods---
on_destroy
on_expose
main
report_dives
---dmm---
N/A
----
1.0
----
0.5625
----

---commit---
3aa02ccba93648f2decab899a5b9c42b6bcea9bf
---message---
Generate a default name for a dive, if it doesn't have one already

The name is a string containint date, time, depth and length.  So it's
useful even with nothing else going on.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
dive.h|MODIFY
----
parse.c|MODIFY
---methods---
dive_end
generate_name
---dmm---
0.09523809523809523
----
1.0
----
1.0
----

---commit---
d1ae1c48309cd0ac5af96114040407dd51e92c37
---message---
Show the dives as a gtk list/tree widget

Ok, so I'm not very good at this.  I'll need to enclose the dang thing
in a scrollable window, and then make that scrollable thing just part of
the whole window.

But hey, it's pixels on the screen.  Pixels that show the names of the
dives we've parsed.  At least as many as will fit on screen at one time ;)

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
create_dive_list
main
fill_dive_list
---dmm---
0.90625
----
1.0
----
1.0
----

---commit---
5625b31873ae5a76b76b036be18858327a25d8f0
---message---
Make the dive list scrollable (and put it in a vbox)

This means you can actually see them all, and walk through them.

It doesn't make any of this *useful*, but whatever.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
main
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
446e51ccf032c6449c8d38dbac0b2110b4246bc5
---message---
Fix depth parsing

The "decimal: it's meters, integer: it's feet" logic doesn't work.  It's
just always meters, because the xml ends up sometimes having whole meters.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
depth
---dmm---
1.0
----
N/A
----
N/A
----

---commit---
3aa54e206ad214d21a53599a847ae07f1c039a84
---message---
Draw some kind of profile for the (first) dive

This is all kinds of broken: it doesn't actually follow the selected
dive, and the profile isn't scaled properly etc.  But it shows something
new, and not just text.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
on_expose
main
expose_event
---dmm---
N/A
----
1.0
----
0.3333333333333333
----

---commit---
8e95ded57bdbaa66ba1c2ec25c55a56d53bce943
---message---
Split up profile frame generation into its own file.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
5
----
Makefile|MODIFY
----
display.h|ADD
----
dive.h|MODIFY
----
main.c|MODIFY
---methods---
main
expose_event
----
profile.c|ADD
---methods---
expose_event
dive_profile_frame
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
1d69524a7889ffa74a3e28004d9096524834053a
---message---
Get rid of now unused 'show_dive()' function

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
show_dive
---dmm---
1.0
----
N/A
----
N/A
----

---commit---
77cfe07c52d25554779c60d37e4a55e34a0164f2
---message---
Split up divelist scroll window generation into its own file

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
Makefile|MODIFY
----
display.h|MODIFY
----
divelist.c|ADD
---methods---
create_dive_list
fill_dive_list
----
main.c|MODIFY
---methods---
fill_dive_list
main
create_dive_list
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
de8dc53f755e9872d822f1652d105fa5ef48c6df
---message---
Don't newline-terminate the dive name

That resulted in ugly lists, and it was wrong to begin with.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
generate_name
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
23e831a6ed61878240897cd6a7b276526a3f4ba4
---message---
Re-do the tree selection code with a selection callback

Learnign gtk by looking at cairo examples? It's one way.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
divelist.c|MODIFY
---methods---
create_dive_list
fill_dive_list
selection_cb
fill_dive_list
---dmm---
0.375
----
1.0
----
1.0
----

---commit---
2044dabc81062c22c7f95a2e0e57f931cee0205f
---message---
Teach the thing to actually track the currently selected dive

.. and repaint the profile when the selection changes.

Now, if it just wasn't so ugly, it might even be useful.  Except it
obviously needs to also show all the other dive information.  And allow
the user to fill in details.  And save the end results.

So no, it's not useful.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
display.h|MODIFY
----
divelist.c|MODIFY
---methods---
create_dive_list
fill_dive_list
selection_cb
----
main.c|MODIFY
---methods---
main
repaint_dive
----
profile.c|MODIFY
---methods---
expose_event
---dmm---
0.8571428571428571
----
1.0
----
1.0
----

---commit---
6cc122f491ca9a069dbd226b9fe7529dbcf61058
---message---
Add 'repaint_dive()' prototype, and fix dependencies

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
Makefile|MODIFY
----
display.h|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7017d17562fe803946ef9e0d8e9af9611bc43ba5
---message---
Use a gtk table instead of hbox

We'll want to add various dive statistics, so...  Without them, it all
looks pretty much the same, though.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
divelist.c|MODIFY
---methods---
create_dive_list
----
main.c|MODIFY
---methods---
main
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a11dbbdb1856a05b97e872fd732682d9bf8ef49b
---message---
Add fake 'info' frame contents

It should have depth, time, place etc information, but right now it only
has a fake depth that doesn't even get updated.  Just to show the idea
of the table usage.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
Makefile|MODIFY
----
display.h|MODIFY
----
info.c|ADD
---methods---
dive_info_frame
----
main.c|MODIFY
---methods---
main
---dmm---
0.8823529411764706
----
1.0
----
1.0
----

---commit---
eed9538101a97142d8327119b9539f847f818198
---message---
Plot dive profile slightly more intelligently.

This actually creates a bounding box and some scale markers.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
profile.c|MODIFY
---methods---
plot
round_feet_up
round_seconds_up
expose_event
---dmm---
0.5227272727272727
----
1.0
----
0.18181818181818182
----

---commit---
059f047788a9549e448f6e9f108a9f55b81ee64c
---message---
plot a fancier 'filled' depth profile

Now I'm just dicking around with cairo.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
profile.c|MODIFY
---methods---
plot
---dmm---
N/A
----
1.0
----
N/A
----

---commit---
ee56021dfbc3bcc12f5917cdf481cc96c51a2b89
---message---
dive profile plot: use saner minimum limits

The time minimum was in seconds, not minutes, and we really do want to
show at least to 90ft to make shallow dives look shallow rather than
scaled to some full depth.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
profile.c|MODIFY
---methods---
round_seconds_up
round_feet_up
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c7e29063722a57211e00acc5ee98e05c37f89a99
---message---
dive parsing: enforce maxdepth and dive duration

If we see samples from past the dive duration, update the dive duration.
Likewise with maxdepth.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse.c|MODIFY
---methods---
sample_end
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
a39b2ee220cd23d4d6ed52f23e50fee0d4381a93
---message---
Add some more dive info - and actually update it

It's still the ugliest application ever, but now it at least gives you
some basic dive info.

I'd love to add a way to edit the dives to add new data (name, buddies,
location etc), but that would also require the ability to save the end
result.  Maybe some day.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
3
----
display.h|MODIFY
----
info.c|MODIFY
---methods---
dive_info_frame
update_dive_info
----
main.c|MODIFY
---methods---
repaint_dive
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
c17300cfaa7dcc95b70112281491b8fb1a530f8e
---message---
Use a 'notebook' for Info vs Profile

I dunno.  This seems a better interface at least if we get more info for
the dive, but I suspect I'll want to the add basic info to the profile
page too.

This makes the 'table' approach to layout be kind of pointless again,
and the table has become a fancy vbox.  Maybe I'll put the core info
back, and use the notebook 'Info' page for extended information.

I should just bite the bullet and start saving the dive data, and adding
editing functions for adding information.  But instead I'm playing
around with random gtk widgets.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
main
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
00d798854aa2594b819f50dc135efca96a93adb9
---message---
Start cleaning up dive accessors

I'm going to add a menu to import (and eventually export) dives, and so
we'd like to be able to start out with no dives at all.  Right now we
croak if that happens - it's not like the code has been written with
actual end users in mind.

So start cleaning things up.  First make the 'current_dive' macro work
right even for invalid dives.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
display.h|MODIFY
----
dive.h|MODIFY
---methods---
get_dive
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
968aa28155b3a55b558d16e3a46dfd5c887dc3c6
---message---
Do something half-way sane (no SIGSEGV) when there are no dives

It just leaves ugly blank areas, but whatever.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
info.c|MODIFY
---methods---
update_dive_info
----
profile.c|MODIFY
---methods---
expose_event
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
1c010afc88897e0a5a7293cff81ae2875fa91838
---message---
Add a top 'File' menu

It doesn't actually *do* anything, but what else is new?

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
get_menubar_menu
file_save
file_open
main
---dmm---
0.7272727272727273
----
1.0
----
1.0
----

---commit---
3d01a5f71a29a8b7ce2a3648130660dabe62fae9
---message---
Boiler-plate code for opening/saving a file

All just copied from the gtk docs.  No actual loading or saving is
taking place, though.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
main
file_save
file_open
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
23c6a42b084fbd1affbf7cc1b3f5e94fb15d3a92
---message---
Make the main display saner

This tweaks:
 - packing to be what you'd kind of expect
 - makes the "summary info" always visible
 - the "extended info" is now on a notebook page of its own
 - dive profile the first notebook page, since the summary
   information is visible regardless.
which all just seems a lot more logical.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
3
----
display.h|MODIFY
----
info.c|MODIFY
---methods---
dive_info_frame
extended_dive_info_frame
----
main.c|MODIFY
---methods---
main
---dmm---
0.8461538461538461
----
1.0
----
1.0
----

---commit---
feec55504084baf022517d39e72431b4d361a217
---message---
Add some extended dive info fields

.. and tweak the basic info layout a bit.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
info.c|MODIFY
---methods---
extended_dive_info_frame
info_label
update_dive_info
dive_info_frame
text_entry
weekday
----
main.c|MODIFY
---methods---
main
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
4350a75b9455387c0da36b9b52349a858d8fca9c
---message---
Rename some files to be more appropriate

The executable is now called 'divelog'.  If this gets useful enough to
actually *use*, I guess I'll have to come up with a real name some day.

Add a silly README, rename 'parse' to 'parse-xml'.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
3
----
Makefile|MODIFY
----
README|ADD
----
parse-xml.c|RENAME
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
da4edbcce81a9a90e414bc6281183df154019b0c
---message---
xml parsing: start traversing properties too

This requires us to change the way we match things up, because now we
can have things like

   dives.dive.sample.event.time

and

   dives.dive.sample.time

and they are different things (that "sample.event.time" is a 'time'
property of the 'event').

Now, this is always going to be ambiguous, since our linearized name of
the xml doesn't really care whether it's a xml node "child" or a
"property", but quite frankly, I don't care. XML just isn't worth the pain.

In fact, maybe this ambiguity can end up being a good thing.  We will
parse these two different lines of XML the same way:

  <dive><sample><time>50</time><depth>10.8</depth></sample></dive>

  <dive><sample time="50" depth="10.8"></sample></dive>

and the attribute approach seems to be the nicer one.  Maybe I'll use
that for the output format.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
visit
nonmatch
match
try_to_fill_dive
traverse
match
last_part
try_to_fill_sample
nonmatch
start_match
traverse
traverse_properties
---dmm---
0.9411764705882353
----
0.8823529411764706
----
0.35294117647058826
----

---commit---
14d7601cdf8b5ba05c7889f6272fdad3fee03c80
---message---
Get rid of our 'ignore' rules

I'll start doing some kind of "save unparsed things as extended items"
thing, and the ignore rules were just there to get rid of some of the
noise from early parsing.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
ignore
try_to_fill_dive
---dmm---
0.7692307692307693
----
0.7692307692307693
----
0.7692307692307693
----

---commit---
97419131248aacc96278ba7022b39af32359c26c
---message---
Start parsing gas mixes

The suunto xml is just completely crazy.  What's the helium percentage
companion to "o2pct"? Would it be "hepct"? No. It's "hepct_0".

Ok, so they didn't number the first o2pct, which could be seen as sane:
that's the only mix value that should always exist.  And they clearly
started their indexing with 0.  So with multiple mixes, you'd then
expect "o2pct_1" and "hepct_1", right?

Wrong! Because XML people are crazy, the second O2 mix percentage is
obviously "o2pct_2".  So the O2 percentages are one-based, with an
implicit one.  But the He percentages are zero-based with an explicit
zero.  So the second mix is "o2pct_2" and "hepct_1".

I'd like to ask what drugs Suunto people are on, but hey, it's a Finnish
company.  No need to ask.  Vodka explains everything.  LOTS AND LOTS OF
VODKA.

In comparison, the libdivecomputer output is nice and sane, and uses a
'gasmix' node.  Of course, now we have so many different XML nesting
nodes to check that I just made it an array of different noces.  That
also allows me to mark the suunto case, so that we only do the "check
for crazy alcoholic xml entries" when it's a suunto file.

The "type of file" thing is probably a good idea for deciding on default
units too. Some day.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
dive.h|MODIFY
----
parse-xml.c|MODIFY
---methods---
gasmix_end
traverse
dive_end
suunto_start
event_end
sample_start
try_to_fill_dive
suunto_end
gasmix_start
suunto_dive_match
percent
gasmix
event_start
---dmm---
0.6190476190476191
----
0.42857142857142855
----
0.6984126984126984
----

---commit---
adc7280c025e68f6d55d779ad56712cb17aa3ae7
---message---
libdivecomputer does crazy gas mixes too

Did I just say "In comparison, the libdivecomputer output is nice and
sane"?

It turns out that libdivecomputer has been doing some drugs too when it
comes to gas mixes.  Like showing O2 percentages as 255.0% and N2
percentages as -155.0%.

Clearly libdivecomputer uses a 'unsigned char' for oxygen percentage,
and makes "-1" be "undefined".  And then it prints that non-existing mix
out, and in the process does MATH on the damn thing ("100-O2") to
"calculate" the nitrogen percentage.

Christ.

Just make the parser silently ignore the craziness, because printing out
"Strange percentage reading -155.0" a few hundred times just doesn't
make anything any better.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
gasmix
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
d5e42d485e6c4a62b78281aac900bb447d811ab1
---message---
gasmix: stop tracking nitrogen percentages

The only thing you can do with that thing is screw things up (like
libdivecomputer did).  There's no value in tracking the "filler" gas,
since you can always just calculate it from the gases that actually
matter.

So just track Oxygen and Helium - and make sure they have sane values.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
dive.h|MODIFY
----
parse-xml.c|MODIFY
---methods---
dive_end
gasmix_nitrogen
try_to_fill_dive
sanitize_gasmix
---dmm---
0.15384615384615385
----
0.15384615384615385
----
1.0
----

---commit---
1155ad3f0fb2471163335d1d7c6856a81f495e49
---message---
Add ability to 'save' dives

This just generates another xml file.  Don't get me wrong: I still don't
like xml, but this way we can save in the same format we load things
from.  Except the save-format is a *lot* cleaner than the abortion that
is Suunto or libdivecomputer xml.

Don't bother with some crazy xml library crap for saving. Just do it!

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
Makefile|MODIFY
----
dive.h|MODIFY
----
main.c|MODIFY
---methods---
file_save
----
save-xml.c|ADD
---methods---
save_sample
save_dive
save_dives
save_overview
show_temperature
save_gasmix
---dmm---
1.0
----
1.0
----
0.8235294117647058
----

---commit---
99c111e34833bb7b8af2ad5a6494790191b18e2c
---message---
Fix up small details in input/output

Be more careful with FP conversions, and with the Kelvin<->C offset.
And make sure to use the same names when saving as when parsing.

Now when we save a set of dives, then re-load them, and save again, the
second save image is identical to the first one.

Of course, we don't actually save everything we load, so we still do
lose information when we load and then save the result.  But at least we
now don't lose the information that we *do* save.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
parse-xml.c|MODIFY
---methods---
depth
try_to_fill_sample
pressure
temperature
----
save-xml.c|MODIFY
---methods---
save_overview
save_sample
---dmm---
0.3333333333333333
----
0.3333333333333333
----
0.3333333333333333
----

---commit---
1376712f0bc952e33a42121570c64add6a2a9446
---message---
Save everything in our current dives and samples into the xml file

Now, as we start parsing more, we just need to also add the code to save
it.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_overview
show_pressure
show_duration
save_sample
show_depth
---dmm---
1.0
----
1.0
----
0.21052631578947367
----

---commit---
5001ab66cba885411e9ee4e8c701688b4928ab1d
---message---
Teach the date parser to also parse the international standard date format

The standard way to write a date is yyyy-mm-dd, which is unambiguous and
sorts correctly.

We parsed that right in the 'datetime' case, but not in the normal date
case.  And we do want to use that in our output format, exactly because
it's standard.

And also parse 'duration' for the dive duration.  It's what we use when
saving, it just so happened that we ended up not parsing it right, but
then picking it up from the samples instead.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
try_to_fill_dive
divedate
---dmm---
N/A
----
0.8181818181818182
----
0.8181818181818182
----

---commit---
adc92d6de2ee1c71e88b66fb9c41e52de8cf4ea1
---message---
Always use proper units when saving.

When we see a number like 23.145, we'd better always also see a unit.
It's just good practice.  So add 'min' to duration (and use only two
digits for number of seconds), and 'm' to depth.

And write the date in international standard format.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_sample
save_dive
show_duration
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c139aa8d51ef63a79cf8eeb809621ad06b72b808
---message---
Clean up save-file output a bit

Use the "empty element" form for samples that don't have any events
associated with them (and none do, right now).  This avoids that
annoying "</sample>" crud.

And output the units in the output helpers, so that you can't forget
them even if you try.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_sample
show_depth
save_overview
show_temperature
show_pressure
show_duration
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
0189de695c1b361a1ef85c0523a50f2abc5f0dbf
---message---
Do gasmix as an empty element XML too

Let's make it a goal that the XML we output is pretty.  That clearly was
never a goal for the Suunto XML, but we can be oh-so-much-better than that.

I still don't love XML, but let's try to make the best of a bad situation,
and take pride in what we do.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_gasmix
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
22fcef2ec7fd1efd3d1df2aba2b7b3af5d463288
---message---
Save and parse notes and locations

It's pretty rough, but it seems to work.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
dive.h|MODIFY
----
info.c|MODIFY
---methods---
text_entry
flush_dive_info_changes
get_text
update_dive_info
text_entry
extended_dive_info_frame
----
parse-xml.c|MODIFY
---methods---
try_to_fill_dive
utf8_string
----
save-xml.c|MODIFY
---methods---
save_dives
quote
show_utf8
save_overview
---dmm---
0.35294117647058826
----
0.43529411764705883
----
0.6352941176470588
----

---commit---
bafc7e771ed3f7cfa2589772a7ab66821c0bab75
---message---
We can't save escape characters.

I think it should be legal xml, but whatever.  libxml2 is very unhappy,
and complains when loading - even if I escape them.  So let's just
replace the low escape characters with '?'.

The only thing to ever care was my test-case, I suspect.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
quote
---dmm---
N/A
----
N/A
----
1.0
----

---commit---
f7fb74f3a78b4fbf561eb91548cf3e355af9b8b1
---message---
Fix wrongly nested watertemp xml entry

Too much cut-and-paste: the ending tag said "airtemp".

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_overview
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
2cd2cafdf4fc1ea37872f172a62d3d38220adf64
---message---
Generate 'watertemp' field from samples if required

Sure, it's redundant, but it's convenient for the general dive info.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
sample_end
---dmm---
N/A
----
N/A
----
1.0
----

---commit---
8042246df6f7673873e02f5255029370b1f42e3c
---message---
Show temperature in the info summary

If it exists, it really does help identify the dive.  At least it does
for me: "local or Maui"?

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
info.c|MODIFY
---methods---
update_dive_info
dive_info_frame
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
d9106995d39138dbce5f3306a391361f68ce0a07
---message---
Hack up some very rudimentary support for the Uemis xml format

I think I'll need to re-organize the handling of per-format code, but
for now we just mix it all up.

The uemis conversion is also questionable even for just the small parts
I do.  Does it really do "centiPSI"? That sounds crazy.  I'm waiting for
Dirk to send me some actual human-readable output from the dives, right
now some of it is just rough guesses.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
uemis_date_time
uemis_volume_unit
uemis_end
suunto_start
uemis_time_unit
parse_xml_file
uemis_dive_match
try_to_fill_dive
uemis_pressure_unit
try_to_fill_sample
uemis_weight_unit
water_pressure
uemis_temperature_unit
uemis_length_unit
buffer_value
uemis_time_zone
uemis_date_unit
uemis_fill_sample
reset_all
uemis_start
---dmm---
0.7413793103448276
----
0.8448275862068966
----
0.8017241379310345
----

---commit---
9506c4bf0a6626b81ae5fad25fb26cf57d9ce8fe
---message---
Use 'units' value instead of guessing based on integer/FP

We still end up guessing based on magnitude of the value, though: it
might be 'bar' or 'mbar', we end up picking one or the other based on
just how big the value is.

I should make it look at any possible explicit units too, since at least
with good xml, they exist.  Of course, the only good xml I've seen so
far is the one we generate ourselves ;)

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
depth
pressure
integer_or_float
percent
temperature
uemis_date_time
water_pressure
---dmm---
0.5
----
0.25
----
N/A
----

---commit---
a5e4c7ffd1da2e58d0d283389e0d9a0ffce7e783
---message---
Silently ignore zero pressure

Don't complain about them, they're just missing values

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
pressure
---dmm---
N/A
----
N/A
----
1.0
----

---commit---
ef0d00e76a2343f5d730eff3381d6715e3134ae8
---message---
Improve uemis xml parsing a bit

It looks like the "units.pressure" setting is only about the units that
things are *shown* in on the wrist computer: the units in the file are
always in bar (or rather, centi-bar).

Which is definitely the right thing to do, and means that we shouldn't
care about parsing the units setting.  It's purely about how something
is shown, not about parsing.

That's probably true of the other units too, but let's see when I have
more data to go on.

Also, parse water temperatures and tank pressure.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
parse-xml.c|MODIFY
---methods---
water_pressure
decicelsius
get_index
uemis_fill_sample
uemis_dive_match
centibar
uemis_pressure_unit
---dmm---
1.0
----
0.6944444444444444
----
0.8333333333333334
----

---commit---
5f05173e793d49319c727240014b59a04bd4075c
---message---
Do a dive de-dup pass

If given multiple dives at the same time, just de-dup the dives.  This
happens when you've dumped the whole dive-computer several times, and
some dives show up in multiple dumps.

When de-duping, try to avoid dropping data.  So if one dive has notes
attached to it, and the other one does not, pick the notes from the dive
that does have them.  Obvious stuff like that.

The sample merge is also written so that it should be possible to merge
two dives. Which we don't actually do yet.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
3
----
dive.h|MODIFY
---methods---
dive_size
----
main.c|MODIFY
---methods---
add_sample
merge_samples
try_to_merge
merge_text
report_dives
----
parse-xml.c|MODIFY
---methods---
dive_size
---dmm---
0.08461538461538462
----
0.5076923076923077
----
0.5
----

---commit---
3def2b1aacd9c018f1bfe9b7f8bce467239cc3b0
---message---
Add location note to the top bar too.

I really don't understand the packing rules.  This does not look like
what I intended.

Oh well.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
info.c|MODIFY
---methods---
info_label
update_dive_info
info_label
dive_info_frame
---dmm---
N/A
----
1.0
----
0.3
----

---commit---
f8e39675cccd01b4b76d88b0f9bef922fce3e8f3
---message---
Update README a bit

..since this is now on github, might as well tell people what they need
to compile it, and warn them about the state of the project.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
README|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
1e75ceac0dbbf6a6eef1e13f076c3ae6a7af4c55
---message---
Add various dive fixups, and show pressure (if any) in the plot

Now the dive profile plot *really* needs some units.  The pressure is
just a random line otherwise.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
6
----
Makefile|MODIFY
----
dive.c|ADD
---methods---
add_sample
merge_samples
fixup_dive
try_to_merge
merge_text
----
dive.h|MODIFY
----
main.c|MODIFY
---methods---
merge_samples
try_to_merge
merge_text
add_sample
----
parse-xml.c|MODIFY
---methods---
sample_end
record_dive
----
profile.c|MODIFY
---methods---
plot_profile
expose_event
plot
get_tank_pressure_range
plot_tank_pressure
plot
---dmm---
0.06930693069306931
----
0.39603960396039606
----
0.44554455445544555
----

---commit---
2804dc42d81a728c62b173f55bbfc075cf643a00
---message---
Only update mean/max depths with computed ones if they are way off

The computer may track "real" max depth more closely than it tracks
samples.  So we trust the non-computed mean/max depths more than the
computed ones.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
dive.c|MODIFY
---methods---
fixup_dive
update_depth
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
c1bed52a777fb8d03e056afddf7879af7b94d157
---message---
Add 'mean depth' marker on dive plot

Just because I can.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
profile.c|MODIFY
---methods---
plot_profile
---dmm---
N/A
----
1.0
----
N/A
----

---commit---
f31e17a0ae69696ce338bbb79dc4afba89bf8d5f
---message---
dive.c: Fix spelling.
---files---
1
----
dive.c|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
b176daf6d6d169bfa9b811687bd7696b1bb6063f
---message---
Do better cylinder information management

Instead of just tracking gasmix, track the size and workng pressure of
the cylinder too.

And use "cylinder" instead of "tank" throughout.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
5
----
dive.c|MODIFY
---methods---
merge_cylinder_info
merge_cylinder_mix
try_to_merge
merge_cylinder_type
merge_samples
fixup_dive
----
dive.h|MODIFY
----
parse-xml.c|MODIFY
---methods---
dive_end
cylinder_end
uemis_fill_sample
suunto_dive_match
cylinder_start
sanitize_gasmix
gasmix_start
gasmix_end
sanitize_gasmix
sanitize_cylinder_info
cylindersize
try_to_fill_dive
try_to_fill_sample
sanitize_cylinder_type
gasmix
----
profile.c|MODIFY
---methods---
plot
plot_cylinder_pressure
get_tank_pressure_range
plot_tank_pressure
get_cylinder_pressure_range
----
save-xml.c|MODIFY
---methods---
save_sample
save_cylinder_info
save_dive
save_gasmix
---dmm---
0.6333333333333333
----
0.5
----
0.6
----

---commit---
4d62478e14fe8bef8ae88a55b0864217b400b719
---message---
Use the newer GtkUIManager for menu creation.

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
get_menubar_menu
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
3a04342607a9fa7255be60ee5d4b8a816ecb7b0a
---message---
Improve the layout of the text entries in gtk3. For gtk2 this could also be useful

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
info.c|MODIFY
---methods---
text_entry
---dmm---
1.0
----
1.0
----
N/A
----

---commit---
6fd86ab6b7784e11f67c879b51c37c6e0011416f
---message---
Don't bother saving n2 percentage

It's all calculated anyway, and for the same reason we don't bother even
parsing it at load time, we really shouldn't bother saving it either.

The only thing you can do with that value is "check if the percentages
add up to 100%", and so what?

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_cylinder_info
---dmm---
1.0
----
1.0
----
N/A
----

---commit---
a6b9eaee0aa2ff67482560f4401e0dc6f2c79237
---message---
Add 'Quit' menu item, and fix invisible "File" on gtk2

I didn't even notice that the "File" part of the file menu no longer
showed up, since the keyboard accelerator for ^S worked fine..  But
apparently there's no default label associated with GTK_STOCK_FILE in
gtk2, so the "File" text went away with the conversion to GtkUIManager
in commit 4d62478e14fe ("Use the newer GtkUIManager for menu creation.")

The addition of a Quit menu entry with the associated keyboard
accelerator also makes ^Q "just work".

Of course, if we actually tracked dirty state etc, we could perhaps ask
the user whether they wanted to save or something.  But I'm not exactly
famous for my GUI chops, so ..

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
main.c|MODIFY
---methods---
quit
main
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
5ea6b229f88aa5dacb80fedf9d316c31584c429d
---message---
Change location to a text entry instead of text view.

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
1
----
info.c|MODIFY
---methods---
update_dive_info
text_entry
flush_dive_info_changes
text_view
text_entry
extended_dive_info_frame
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
14547d8ca26fb91b145c6051e541863fb89b76b5
---message---
Word wrap the info textview. Also do not show the scrollbars if not necessary.

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
1
----
info.c|MODIFY
---methods---
text_view
---dmm---
N/A
----
1.0
----
N/A
----

---commit---
f12382c66f2b3deddf38f7d51fda3a2c75a0c5fa
---message---
Removed the unused startemp and enttemp calculations. This fixes a compiler warning too.

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
1
----
dive.c|MODIFY
---methods---
fixup_dive
---dmm---
1.0
----
1.0
----
N/A
----

---commit---
a57668127eb0e00bc467ae0fc487592e95c17227
---message---
Oops. I forgot to 'fclose()' the file after saving the xml

It never actually triggered anything for me, but any buffered data might
be lost, especially if you force-exit the application after saving a
dive log.

This probably explains a corrupted (truncated) dive file report from
Nathan Samson.

Reported-by: Nathan Samson <https://github.com/nathansamson>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_dives
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
797343bf8ac6105f9566ce0d662f4289d5d9d410
---message---
Update gitignore for the name-change of the executable

It's not called 'parse' any more.  And I think I should rename 'divelog'
too to something more unique.  Right now the working name for the
project is 'diveclog' (kind of like 'jdivelog') , but I'm not convinced
that the "C implementation" part is really important enough to make a
point of long-term.

"subsurface"? I don't know.  Maybe I should follow the "name all
projects after myself" mantra.  "divenut"?

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
.gitignore|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
1117cd37d71e294069a670bdf0851041575e0d5f
---message---
Use a pane so the dive list can be made wider or smaller to the users wishes

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
1
----
main.c|MODIFY
---methods---
main
---dmm---
1.0
----
N/A
----
N/A
----

---commit---
6138d151e9156bdf15843b1b54104428c5124e38
---message---
Remove the redundant frames in the notebook. Closes #9

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
4
----
display.h|MODIFY
----
info.c|MODIFY
---methods---
extended_dive_info_frame
extended_dive_info_widget
----
main.c|MODIFY
---methods---
main
----
profile.c|MODIFY
---methods---
dive_profile_frame
dive_profile_widget
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
23a6607ae7ce9335be736c3400e4b8d77744af16
---message---
Fix typo in Makefile (LDLAGS -> LDFLAGS)

Reported-by: Konrad Delong <https://github.com/konryd>
Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
Makefile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c4514b062a9866153c179d4b6ecf7972c9496891
---message---
Some UI beauty patches:

Uppercase first letter for each label word
Tweak the paddings for easier reading
Rename File menu to Log menu
Add a separator before Quit in the Log menu
Remove frame in extended diving info and add 6px padding

Signed-off-by: Hylke Bons <hylkebons@gmail.com>
---files---
3
----
info.c|MODIFY
---methods---
extended_dive_info_frame
extended_dive_info_box
----
main.c|MODIFY
---methods---
main
----
profile.c|MODIFY
---methods---
dive_profile_frame
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
31123f63af0a2b6a9756b8496f56359d1c68a645
---message---
Split the dive list in columns. Columns are sortable now (name = date, depth, duration)

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
2
----
divelist.c|MODIFY
---methods---
create_dive_list
fill_dive_list
selection_cb
----
parse-xml.c|MODIFY
---methods---
generate_name
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
9961c7f89ce6353609383b16b9fbf3a30e4d8604
---message---
Remove redundant temperature readings

I'm aiming to really differentiate in dive log software by making my XML
export files be *clean*, dammit.

That means that we don't have random names, we don't have crazy random
units, and we don't have redundant information.

So when the temperature doesn't change, just don't report it.  That's
already what "no sample" means, just clean things up.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
dive.c|MODIFY
---methods---
fixup_dive
---dmm---
N/A
----
N/A
----
1.0
----

---commit---
ecff0922d43edeb361769755d49e84d1b02caa90
---message---
Don't save cylinder working pressure

It was a mistake to save it - and I did it just because other dive
managers did.  It's a totally nonsensical measure, and nobody cares.
The only thing that matters is the size of the cylinder, and the
*actual* pressures.  Those give actual air consumption numbers, and are
meaningful and unambiguous.

So the "working pressure" for a cylinder is pointless except for two
things:

 - if you don't know the actual physical size, you need the "working
   pressure" along with the air size (eg "85 cuft") in order to compute
   the physical size.  So we do use the working pressure on *input* from
   systems that report cylinder sizes that way.

 - People may well want to know what kind of cylinder they were diving,
   and again, you can make a good guess about this from the working
   pressure.  So saving information like "HP100+" for the cylinder would
   be a good thing.

But notice how in neither case do we actually want to save the working
pressure itself.  And in fact saving it actually makes the output format
ambiguous: if we give both size and working pressure, what does 'size'
mean? Is it physical size in liters, or air size in cu ft?

So saving working pressure is just wrong. Get rid of it.

I'm going to add some kind of "cylinder description" thing, which we can
save instead (and perhaps guess standard cylinders from input like the
working pressure from dive logs that don't do this sanely - which is all
of them, as far as I can tell).

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
save-xml.c|MODIFY
---methods---
save_cylinder_info
---dmm---
1.0
----
1.0
----
N/A
----

---commit---
09174367294c399265954a9e2770427e5ee251ba
---message---
Add placeholder for cylinder type description

So we don't want to save working pressure, but cylinder type knowledge
would be lovely and useful.  And we can probably make a good initial
guess, or at least let people fill it in later.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
dive.h|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
aab4d593bdbffef8442282318778a9833cbc7a43
---message---
Generate date string for the dive list dynamically

.. and sort based on the 'time_t' value itself.

This allows us to use a more compact date format that doesn't need to
sort alphabetically, because sorting by date is always based on the date
value.  So we can use just a two-digit year, and skip the seconds, to
keep the column narrow, while still sorting correctly.

Also, "Depth" is a nice header string, but it is wider than the column
itself, which makes the whole column wider than necessary.  So put the
units in the header instead of in the string, keeping things narrow.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
4
----
dive.c|MODIFY
---methods---
try_to_merge
----
dive.h|MODIFY
----
divelist.c|MODIFY
---methods---
create_dive_list
fill_dive_list
selection_cb
----
parse-xml.c|MODIFY
---methods---
dive_end
generate_name
---dmm---
0.8
----
N/A
----
N/A
----

---commit---
f448b68de0e844db3628332ebf70f2746882527c
---message---
Clean up 'fixup_dive()' a bit

We don't want to override potentially more exact values for water
temperature etc either.  The sample save interval may be longer than
some internally kept state of key per-dive values like that.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
1
----
dive.c|MODIFY
---methods---
update_depth
update_duration
update_temperature
fixup_dive
update_pressure
---dmm---
1.0
----
1.0
----
1.0
----

---commit---
f8de487c2f590d6f4e27f878ac104c229667702c
---message---
Make a guess at the cylinder description from the size and pressure

I'll want to also add a way to override/set the cylinder type: both
manually by just setting a size in liters, and by picking from some list
of standard cylinder sizes.

For example, it looks like most of my dives are marked as having
12-liter cylinders.  That is probably some default from Suunto Dive
Manager, or from whatever Dirk did.  It's almost certainly not right for
any of them: as far as I know, the standard cylinders for Lahaina Divers
(which is likely most of the warm water dives) are AL72's for air, and
AL80's for Nitrox.

That would be a 10L and a 11.1L tank respectively, afaik.  I don't know
what a 12-liter tank would be or where that size comes from.

Anyway, the LP85+ tank designation for some of the dives looks more
likely: that's one of the common sizes I've used for local dives.  So
the size of that thing is much more probably correct.

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
parse-xml.c|MODIFY
---methods---
match_standard_cylinder
sanitize_cylinder_type
----
save-xml.c|MODIFY
---methods---
save_cylinder_info
---dmm---
0.05
----
0.05
----
1.0
----

---commit---
5f7835a3913ba4b6e2bf24b7d7f19e277cd40a07
---message---
Right align the numbers

Signed-off-by: Nathan Samson <nathansamson@gmail.com>
---files---
1
----
divelist.c|MODIFY
---methods---
create_dive_list
---dmm---
N/A
----
1.0
----
1.0
----

---commit---
e58fa7b9b506d5bb30268060279bc8dcbbeb99ea
---message---
Parse uemis cylinder data

This is some seriously crazy stuff.  Instead of making sense as a
divelog, the uemis xml makes more sense as a "dive computer settings
dump".

And I guess I can see why they'd do that.  But it makes parsing it just
incredibly annoying.  The thing is more of a "these are the
configurations I support as a dive computer thing" than a "this was the
tank you were diving with".

Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
---files---
2
----
dive.h|MODIFY
----
parse-xml.c|MODIFY
---methods---
uemis_dive_match
---dmm---
N/A
----
N/A
----
N/A
----

---project---
https://github.com/docker-library/php
---commit---
c60948d08bbc0aec96221be5c34e7f087640ed21
---message---
Dockerfiles to pull php and apache from source tars
---files---
2
----
Dockerfile|ADD
----
Dockerfile|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f9483c93a906759865c56c06a0c5732405650e74
---message---
Add update.sh, add partial files for generating the apache Dockerfile
---files---
5
----
Dockerfile|RENAME
----
Dockerfile|RENAME
----
Dockerfile-apache-insert|ADD
----
Dockerfile-apache-tail|ADD
----
update.sh|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
4c98e81721c9be84aef01de418af04a514272442
---message---
Add stackbrew generator
---files---
1
----
generate-stackbrew-library.sh|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
e98835b4540c8049bdb8871656a3aaf65cbb759b
---message---
Match multiple keys in update.sh since we have 2+ here
---files---
1
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
88ee683d43757f302a283faf2689303c59438c28
---message---
Update to 5.5.16
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
5a117c8bef3d947af3ec2321ec6b7a7d3e9ae9c7
---message---
Remove duplicated "try try" in update.sh
---files---
1
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
4e7350151472b4e8ad67976a884a226d419d1951
---message---
Missed an extraneous .gz
---files---
1
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
6b54c7fa3f42f0eaade30c1bbb05d5fc2c0b39c2
---message---
Add php 5.3, 5.4, and 5.6 fixing the update script
---files---
10
----
Dockerfile|ADD
----
Dockerfile|ADD
----
Dockerfile|ADD
----
Dockerfile|ADD
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|ADD
----
Dockerfile|ADD
----
generate-stackbrew-library.sh|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
3904b176167a07c8828b9a1b5b9a3ea55bd9f21d
---message---
Add CMD php -a; replace awk with magic bash
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile-apache-tail|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f36d64e65bb7288a3de0c0c91f21a8ff6dd2b7f4
---message---
Change default command to httpd
---files---
5
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile-apache-tail|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
595b0f49201ca210ae25c711e559ddbf70c20641
---message---
Add license (Expat)
---files---
1
----
LICENSE|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
e19f15271b1cbe9d3e5c9f0c552beca9579f0677
---message---
use php.net as host, to allow mirror redirects

Prevents us2.php.net from getting all of the traffic.
---files---
8
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
8e361ec2017cf08fc896fd0a28da3b3742cebb09
---message---
Added compile option --with-mysqli in versions with Apache
---files---
5
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile-apache-insert|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7d61fd53df92f93172ede35a692fd5f645a0252c
---message---
Added mysql PDO support to compile flags in versions with Apache
---files---
5
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile-apache-insert|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7819c242fd0521684b31ff0b33707132ca1bd9c6
---message---
Simplify "-apache" images by using the Debian apache2 packages
---files---
16
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
apache2.conf|ADD
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
apache2.conf|ADD
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
apache2.conf|ADD
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
apache2.conf|ADD
----
Dockerfile-apache-insert|DELETE
----
Dockerfile-apache-tail|DELETE
----
apache2.conf|ADD
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
fbac56b1889188f9dd5d124a0fefca7aa1058aa2
---message---
Update versions
---files---
4
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
28bebceb07d8c70702e83f6f0942edb6dcc7514d
---message---
Update 5.6 version - fix #11

Signed-off-by: Rogerio Prado de Jesus <rogeriopradoj@gmail.com>
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
9fabd6a9d930930c25f228f09e26aecb13f92e43
---message---
Add more tags, thanks to J�r�me
---files---
1
----
generate-stackbrew-library.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
6b0affa0c5a8cc1cbbd8b1110f239a226a137c97
---message---
Remove the `VOLUME` definition from the apache variants, since it doesn't make sense in the general case

This is another one thanks to J�r�me...
---files---
5
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
babf5469125c2302c8076e9d75399e4a501f8b5c
---message---
Add open-ssl option
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
6527e41240379ce1112b629a505ef9752f42a64f
---message---
add option ssl on apache
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
646ff233711578d0e9ee98bde8af7ac311c57cf3
---message---
add openSSL
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
1317deb6f7ca226250e2e4d75e41e3603136e574
---message---
add openSSL
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7daab7cc1ef111675c1ffb1339dcf72302a62fde
---message---
add openSSL
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
9fc452451b227d1d20b77183cacc26906c9f669d
---message---
add openSSL
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
ccf611429545d87a37deaa5b0cb18075a9ebcec5
---message---
add openSSL
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
524908779e1de87ab8fbd50f544c798782d8fc06
---message---
add openSSL
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
8814c6a7888ffa521de4d8d06454e29992b87dc7
---message---
Drop older php 5.3

it fails when trying to build with ssl
---files---
3
----
Dockerfile|DELETE
----
Dockerfile|DELETE
----
apache2.conf|DELETE
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
b8c53deb443672d19db7776ee074ef8449016bbe
---message---
Bump 5.6.2 - fix #21

fix #21

Signed-off-by: Rogerio Prado de Jesus <rogeriopradoj@gmail.com>
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7626c94cfab5e5431860473047330026ca4b6134
---message---
Bump 5.4.34 - fix docker-library#23

fix docker-library#23

Signed-off-by: Rogerio Prado de Jesus <rogeriopradoj@gmail.com>
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7c248a3108826ef5153f95ef721544528623f429
---message---
Bump 5.5.18 - fix docker-library#22

fix docker-library#22

Signed-off-by: Rogerio Prado de Jesus <rogeriopradoj@gmail.com>
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f8a3ea57872453063f6416d1a1e92011daa19a0e
---message---
Minor version bumps
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
d21459dd50dbfda473f35891731e8931e3997db8
---message---
Add additional modules to include
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
cfa9eab11550fd0242ccc9a556868fff8ed52dd4
---message---
Add additional modules to versions 5.4 and 5.5
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7cd19dc2a719c3fd9744067df8f07fd74a7b113b
---message---
Update apache versions
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
87828ff10b17018b0250b698e903e2bb2ffe50ce
---message---
Gzip does not exist as a flag, use zlib
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a3dcd781795a1d0d033e44b2552677526ff969b8
---message---
Remove buildconf from our Dockerfiles since we use the release tarballs, which have pre-generated configure scripts
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a6e6a6381d501abaf3d5cf47e05b3ea760804a84
---message---
Refactor Dockerfile, switching the base from `buildpack-deps` over to `debian` directly

This results in a dramatic reduction of image size:

```console
$ docker images php
REPOSITORY          TAG                 IMAGE ID            CREATED              VIRTUAL SIZE
php                 5.4                 6b03f428509e        3 hours ago          354.3 MB
php                 5.4-apache          2bd126f2c469        2 minutes ago        394.8 MB
php                 5.5                 19a5113df69a        9 minutes ago        356.4 MB
php                 5.5-apache          6c892721307f        2 minutes ago        396.9 MB
php                 5.6                 69aead156fe7        10 minutes ago       356.8 MB
php                 5.6-apache          2d0bae628aaf        About an hour ago    397.3 MB
```

vs the old:

```console
$ docker images php
REPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZE
php                 5.4                 e760b9bd2c6c        2 days ago          736.9 MB
php                 5.4-apache          62c23e8f1704        2 days ago          811.8 MB
php                 5.5                 156d2a323bc0        2 days ago          739.8 MB
php                 5.5-apache          3014d0f81b29        2 days ago          814.7 MB
php                 5.6                 dab86418397c        2 days ago          740.2 MB
php                 5.6-apache          b3c4a0633954        2 days ago          815.1 MB
```
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
apache-Dockerfile-block-1|ADD
----
apache-Dockerfile-block-2|ADD
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
cf2a4bcb5b7044f3db73eef4aa8d8e56e07cdf61
---message---
Add ca-certificates (which was in buildpack-deps)
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
98f6553f688b7071ebeb8331add734d569bd4141
---message---
Add --enable-soap
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
4d09bc45cb4849edfb4e22aac5b47ddef97b79c7
---message---
Keep the source and instead just "make clean"
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
2c5880107a84631b60439625b6b19c412de196ba
---message---
Add new `docker-php-ext-*` scripts for magic

For example, the following makes WordPress work:

```Dockerfile
RUN apt-get update && apt-get install -y libpng12-dev && rm -rf /var/lib/apt/lists/* \
	&& docker-php-ext-install gd \
	&& apt-get purge --auto-remove -y libpng12-dev

RUN docker-php-ext-install mysqli
```
---files---
21
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c06a6485d6a3025c89d233c2c2066c8c7582d32e
---message---
Make the root more obvious, fix DirectoryIndex to php first
---files---
4
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
b2e1b8e2a37db419ae1244b9f63456b86f666ffe
---message---
Add back make (which we somehow missed)
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
80f855114cb4c44eef7aa2a0e22a07e40e97cc03
---message---
Add FPM variant
---files---
17
----
Dockerfile|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
php-fpm.conf|ADD
----
Dockerfile|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
php-fpm.conf|ADD
----
Dockerfile|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
php-fpm.conf|ADD
----
fpm-Dockerfile-block-1|ADD
----
fpm-Dockerfile-block-2|ADD
----
generate-stackbrew-library.sh|MODIFY
----
php-fpm.conf|ADD
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
844ed7ce004749b2d81e98cfa2962043a1581fee
---message---
Update to 5.5.19 and 5.6.3 for CVEs

Fixes #45; thanks @thaJeztah
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
18b5d0884c45f30d54bd0eca22352df7fc9fb0d8
---message---
FAILURE (yeah, my bad)
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
583557dc05de007ee5701d0a92c400fd397c8970
---message---
MOAAR
---files---
4
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
5bcd974ac087165b250ef7da60f398a3937ebb81
---message---
Add readme stub
---files---
1
----
README.md|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
9bb0b224807e03fff64574d0e76ed3e6e7d2ef26
---message---
Fix php:fpm "listen" directive
---files---
4
----
php-fpm.conf|MODIFY
----
php-fpm.conf|MODIFY
----
php-fpm.conf|MODIFY
----
php-fpm.conf|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
58c3fd175cb3ab30633fbc3e86314154ecc38e89
---message---
Load opcache as a zend_extension.
---files---
10
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
2482d466611d497fc2c6b7f3268ed0cae8ee9144
---message---
[5.4][fpm][php-fpm.conf] Impossible to listen on [::]:9000. Replace by 9000
---files---
1
----
php-fpm.conf|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
938bbe3bad664cc4ec93d982934fd250a57d6d3b
---message---
Run update.sh
---files---
1
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
4bb8f8678056630c0322364d080acd585baef95d
---message---
Run update again to fix apache and fpm versions
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
be46002aeedac80205e5d7a54a93169c6fa8bc51
---message---
Bump to 5.6.4 and 5.4.36
---files---
2
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f972d91aac11cf41e5de6d24a45dcb1bb00f221d
---message---
Update variants too...
---files---
5
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a51c16e5f91be6243452471d1454dca5b168e3d4
---message---
Add a pid cleaner in case container was killed unexpectedly
---files---
10
----
Dockerfile|MODIFY
----
apache2-foreground|ADD
----
Dockerfile|MODIFY
----
apache2-foreground|ADD
----
Dockerfile|MODIFY
----
apache2-foreground|ADD
----
apache-Dockerfile-block-2|MODIFY
----
apache2.conf|DELETE
----
php-fpm.conf|DELETE
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
5d49ba5861c0245da96132b011c8dbdad8c28188
---message---
Switch from pgp.mit.edu to pool.sks-keyservers.net
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c871678cc7c8dbc9277832e35f14f3534f2dd0fb
---message---
Run update.sh, php 5.5 and 5.6 version bumped
---files---
6
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
d506059bc4361bfe9b0ce536c7d94f76a37d2c02
---message---
Run update.sh to bump 5.4
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
63835823986369ab5982cc6ea1345a962fda5b4a
---message---
Remove Indexes option from /var/www
---files---
3
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
58775aa6924fcb854eb57315f019bbbf729c94d2
---message---
Update to 5.4.38, 5.5.22, 5.6.6
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
360fc176e2a65273b333c71a5aa16438d3da9d43
---message---
Unindent LICENSE
---files---
1
----
LICENSE|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
895c68730d068a139e22d4649c08e3b98113f3e4
---message---
2015
---files---
1
----
LICENSE|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
93c2ef13265f9c3772a5bd5833bea0d2c1b86535
---message---
Make autoremove remove more packages

By default, apt-get autoremove won't remove packages that are recommended or
suggested by *any* installed packages, not just the packages that
auto-installed them.
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
1e07e9134490f53d24fbd23ee3521067c8ab2d29
---message---
Add libc-dev as an explicit phpize dependency
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
dd4503a7f06edf792d045e1dc60cef8828965265
---message---
Update to 5.4.39, 5.5.23, and 5.6.7
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f6c40011c82d45eba771576191550f5fa8a96608
---message---
Empty config and sites folders, include them (#76)
---files---
4
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
----
apache2.conf|MODIFY
----
apache-Dockerfile-block-1|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
0d49708c9983607adc23ed09f778caa54b7312f8
---message---
Use && instead of ; for consistency
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
693ce7b4d24bafedf5bd89d5b7b1719aa0aa4429
---message---
Removed bashism in Dockerfile
---files---
1
----
apache-Dockerfile-block-1|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c909cc49a563356927300e12501fd2f86b404b4d
---message---
Run update.sh
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
0d3682eced9b202c89f73a4af1026f14f6c9938d
---message---
Add initial .travis.yml
---files---
1
----
.travis.yml|ADD
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
08bf31dfd492f02a2696c9a30eb85326b1570abd
---message---
Prevent tar preserving file ownership
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
e8cc3c3c2907b8468c8ecfe4635675bdfebd2771
---message---
Install file and re2c as required by docker-php-ext-install

Fix #86
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
13112ed409335f211edbaf9b74db1c87b329b6d8
---message---
Remove file from buildDeps

file is still needed for docker-php-install-ext.
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
453a9da962ec2d82df4d53ec1c85d96099c1ed5f
---message---
Preinstall more extensions which cannot be installed later

Extensions added: pcre, recode, sqlite3
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
f6aa601699145091daaa32cc7728fc28fc842c69
---message---
Update to 5.6.8, 5.5.24, 5.4.40
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
1dcb6d17643e48ea1329ede9cf9a08b2f697b2fd
---message---
More resilient gpg getting
---files---
10
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
6c517d12b4e52fb39dc8a132201b808ce4fc68d5
---message---
Tells FPM not to clear the environment in workers

Allows php scripts executed with FPM to access env vars such as env vars
from linked containers

see #74
---files---
3
----
php-fpm.conf|MODIFY
----
php-fpm.conf|MODIFY
----
php-fpm.conf|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
2fbee27c9466852e92459433a97cc0912bb64571
---message---
Update to PHP 5.4.41, 5.5.25 and 5.6.9

As per latest security updates from php.net
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
ec8e44b3b8d5a18d414a9f9205c40e71e829f858
---message---
Add g++
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
cb9322a837e1f48b57102116b523a566cfbe1341
---message---
Whoops, use $ini consistently O:)
---files---
1
----
docker-php-ext-install|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
58559e7dec9df4af7475dd3ab62864700cf9feae
---message---
Run update.sh for docker-php-ext-install fixes
---files---
9
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
----
docker-php-ext-install|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
ae130b2f845162fbf84da0ffad07d7a64eff57cd
---message---
Update to 5.4.42, 5.5.26, and 5.6.10
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a413eb0123d10321928696ffea7442bed7dc0dc7
---message---
Switch from "bz2" to "xz" for 5.5 and 5.6 (several megabytes smaller download)
---files---
7
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
11f5f37233854969999f225cc5c668a7c4795d0b
---message---
Add php-7.0.0alpha2 (Issue #108)

Adding 7.0 to travis

Fixes for the reviewed code

Fixes to have the directory as 7.0

Change version on travis

Remove GPG from Dockerfile on 7.0
---files---
14
----
.travis.yml|MODIFY
----
Dockerfile|ADD
----
Dockerfile|ADD
----
apache2-foreground|ADD
----
apache2.conf|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
Dockerfile|ADD
----
docker-php-ext-configure|ADD
----
docker-php-ext-install|ADD
----
php-fpm.conf|ADD
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
0e983d18f2f306d48ac973f0d144c2a969b1f536
---message---
Swap update.sh to still generate for unknown versions and bump to 7.0.0beta1

Also, update generate-stackbrew-library.sh appropriately.
---files---
5
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
generate-stackbrew-library.sh|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
32887c1de338d0ad582393b5f1dafd292334423f
---message---
Update to 5.4.43, 5.5.27, and 5.6.11

As announced here;

PHP 5.4.43 http://php.net/archive/2015.php#id2015-07-09-1
PHP 5.5.27 http://php.net/archive/2015.php#id2015-07-10-2
PHP 5.6.11 http://php.net/archive/2015.php#id2015-07-10-3

Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
7e116d79061e57bed779e1f2512fbc80b43bf43d
---message---
upgrade php7 version
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
b4aeb948e2e240c732d78890ff03285b16e8edda
---message---
Update .travis.yml to use "sudo: 9000" instead of "dist: trusty"
---files---
1
----
.travis.yml|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
fef9f6ec8a264b0403f7c8420a3c66f7c7ab4574
---message---
Add new "docker-php-ext-enable" script for more intelligent module enabling

This also updates `docker-php-ext-install` to invoke this script properly after successful extension compilation.

If modules are determined to already be enabled, it'll skip them appropriately.

This removes simple warnings like `PHP Warning:  Module 'curl' already loaded in Unknown on line 0`, and enables things like `pecl install mongo && docker-php-ext-enable mongo`.
---files---
2
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
8dc762e7181fdc56148e13fbbdeef16271a14ea0
---message---
Run update.sh
---files---
24
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
----
docker-php-ext-enable|ADD
----
docker-php-ext-install|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
878e6efc37d19eccf0c4fa9577fc7145e5060d82
---message---
Full path for loading zend extensions
---files---
13
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a3508a6653b66e7dd174cf9730fc8e4c90440950
---message---
Get rid of unneeded variable
---files---
13
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
----
docker-php-ext-enable|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
a8ec57f206c9acf0a6293208a3343240a5ae7dfc
---message---
Update PHP 5.6.12, 5.5.28 and 5.4.44

Update announcement:
http://php.net/archive/2015.php#id2015-08-06-1

Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
---files---
9
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
c9bc16e06142a0d9b75ec66e772c9b9cc2daa123
---message---
Update to PHP 7.0.0 beta 3

As announced here:
http://php.net/archive/2015.php#id2015-08-06-1

Signed-off-by: Sebastiaan van Stijn <github@gone.nl>
---files---
3
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
fc5346a7e0f21e37466c9dff4330a4802df85bb6
---message---
Fix 5.5 key (https://github.com/docker-library/php/pull/124#issuecomment-128795274)
---files---
4
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
305067f94c924cd6640379938c589b8e661fece7
---message---
Add back the 5.5 keys that are officially listed, and sort all the key lists
---files---
7
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
Dockerfile|MODIFY
----
update.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
b1ff26c9e5edb18ac21536a19960b7d36ee45ea2
---message---
Put "docker images" in .travis.yml "after_script" section
---files---
1
----
.travis.yml|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----

---commit---
757528222b84cd8204d5fe54dba31cb804b26b70
---message---
Enhance "generate-stackbrew-library.sh" to only take into account changes to the Dockerfile or files from COPY in the Dockerfile for choosing the commit hash for a particular directory
---files---
1
----
generate-stackbrew-library.sh|MODIFY
---dmm---
N/A
----
N/A
----
N/A
----
